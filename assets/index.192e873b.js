import{d as h,o as c,c as d,w as y,a as k,r as p,b as v,t as m,e as _,F as b,f as I,g as S,h as B,p as N,i as O,n as j,j as E,k as F}from"./vendor.98b6b7f3.js";const M=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))u(t);new MutationObserver(t=>{for(const l of t)if(l.type==="childList")for(const n of l.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&u(n)}).observe(document,{childList:!0,subtree:!0});function a(t){const l={};return t.integrity&&(l.integrity=t.integrity),t.referrerpolicy&&(l.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?l.credentials="include":t.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function u(t){if(t.ep)return;t.ep=!0;const l=a(t);fetch(t.href,l)}};M();var $=(o,e)=>{const a=o.__vccOpts||o;for(const[u,t]of e)a[u]=t;return a};const P=h({props:{modelValue:{type:String,default:""}},methods:{onTab(o){const e=o.target;if(!!e){var a=e.selectionStart,u=e.value.substr(0,a),t=e.value.substr(a,e.value.length);e.value=u+"	"+t,e.selectionEnd=a+1}},onInput(o){if(o.target===null)return;const e=o.target;this.$emit("update:modelValue",e.value)},onSave(o){this.$emit("save",o)}}}),T=["value"];function A(o,e,a,u,t,l){return c(),d("textarea",{value:o.modelValue,onInput:e[0]||(e[0]=n=>o.onInput(n)),spellcheck:"false",onKeydown:[e[1]||(e[1]=y(k((...n)=>o.onTab&&o.onTab(...n),["prevent"]),["tab"])),e[2]||(e[2]=y(k((...n)=>o.onSave&&o.onSave(...n),["ctrl","prevent"]),["s"]))]},null,40,T)}var D=$(P,[["render",A]]);const L=o=>(N("data-v-661b6de7"),o=o(),O(),o),K={class:"nav"},R={class:"nav__current"},Z=L(()=>v("svg",{id:"i-folder",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"24",height:"24",fill:"none",stroke:"currentcolor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[v("path",{d:"M2 26 L30 26 30 7 14 7 10 4 2 4 Z M30 12 L2 12"})],-1)),q={class:"nav__selected"},z={key:0},U=["onClick"],W={key:0},G={class:"editor"},H={key:0,class:"editor__nav"},J=L(()=>v("svg",{id:"i-file",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"24",height:"24",fill:"none",stroke:"currentcolor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[v("path",{d:"M6 2 L6 30 26 30 26 10 18 2 Z M18 2 L18 10 26 10"})],-1)),Q={key:0,class:"editor__selected"},X={key:0},Y=h({setup(o){const e=p([]),a=p(""),u=p(""),t=p(),l=p(),n=p([]),f=p(!1),g=async r=>{if(!r)return;const s=await r.createWritable({keepExistingData:!1});await s.write(a.value),await s.close(),u.value=a.value},V=async()=>{n.value.splice(n.value.length-1,1),l.value=n.value[n.value.length-1];const r=await n.value[n.value.length-1].values();e.value=[];for await(const s of r)e.value.push(s);f.value=n.value.length>1},x=async r=>{if(r.kind==="file"){var s=new FileReader;s.onload=()=>{const i=s.result;i!=null&&(a.value=i.toString(),u.value=a.value)},s.readAsBinaryString(await r.getFile()),t.value=r;return}else{n.value.push(r);const i=await n.value[n.value.length-1].values();e.value=[];for await(const w of i)e.value.push(w);l.value=r,f.value=n.value.length>1}},C=async()=>{n.value=[];const r=await window.showDirectoryPicker();if(!!r){n.value.push(r),l.value=r,e.value=[];for await(let s of r.values())e.value.push(s)}};return(r,s)=>(c(),d(b,null,[v("div",K,[v("div",R,[Z,v("div",q,[l.value?(c(),d("span",z,m(l.value.name),1)):_("",!0)]),v("button",{onClick:C},"Open")]),v("ul",null,[f.value?(c(),d("li",{key:0,onClick:s[0]||(s[0]=i=>V())},"../")):_("",!0),(c(!0),d(b,null,I(e.value,i=>(c(),d("li",{onClick:w=>x(i),class:j({selected:i===t.value})},[S(m(i.name)+" ",1),i.isDirectory?(c(),d("span",W,"/")):_("",!0)],10,U))),256))])]),v("div",G,[t.value?(c(),d("div",H,[J,t.value?(c(),d("div",Q,[S(m(t.value.name)+" ",1),a.value!==u.value?(c(),d("span",X,"*")):_("",!0)])):_("",!0),v("button",{onClick:s[1]||(s[1]=i=>g(t.value))},"Save")])):_("",!0),B(D,{modelValue:a.value,"onUpdate:modelValue":s[2]||(s[2]=i=>a.value=i),onSave:s[3]||(s[3]=i=>g(t.value))},null,8,["modelValue"])])],64))}});var ee=$(Y,[["__scopeId","data-v-661b6de7"]]);const te=h({setup(o){return(e,a)=>(c(),E(ee))}});F(te).mount("#app");
